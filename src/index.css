@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Capacitor 8 / Android 16 Inset Handling */
    /* We use max() to ensure a minimum padding even on devices without notches */
    --safe-area-top: env(safe-area-inset-top, 0px);
    --safe-area-bottom: env(safe-area-inset-bottom, 0px);
    --safe-area-left: env(safe-area-inset-left, 0px);
    --safe-area-right: env(safe-area-inset-right, 0px);
    
    /* VinPro Brand Colors */
    --color-vinpro-blue: 37 99 235; /* #2563eb */
  }

  html {
    /* Fixes the 'rubber-band' bounce on mobile browsers */
    @apply h-full overflow-hidden antialiased;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    @apply h-full m-0 p-0 font-sans select-none overflow-hidden;
    @apply bg-slate-950 text-slate-200;
    
    /* Required for Android 16 Edge-to-Edge scaling */
    -webkit-text-size-adjust: 100%;
    
    /* Safe Area Body Padding (Optional: use if not using the Layout component padding) */
    /* padding: var(--safe-area-top) var(--safe-area-right) var(--safe-area-bottom) var(--safe-area-left); */
  }

  #root {
    @apply h-full flex flex-col;
  }
}

@layer components {
  /* --- Layout & Navigation --- */
  
  .sidebar {
    /* Adaptive padding for notches in landscape */
    padding-top: calc(1rem + var(--safe-area-top));
    padding-left: calc(1rem + var(--safe-area-left));
    padding-bottom: var(--safe-area-bottom);
    @apply bg-slate-900 border-r border-slate-800 w-64 h-full transition-all;
  }

  .main-content {
    /* Responsive safe area container */
    padding-top: var(--safe-area-top);
    padding-bottom: var(--safe-area-bottom);
    padding-left: var(--safe-area-left);
    padding-right: var(--safe-area-right);
    @apply flex-grow overflow-y-auto overflow-x-hidden;
  }

  /* --- VinPro Custom UI --- */

  .sidebar-link {
    @apply flex items-center gap-3 px-4 py-3 rounded-xl transition-all;
    @apply hover:bg-slate-800 text-slate-400 hover:text-white;
  }

  .sidebar-link-active {
    @apply bg-blue-600/10 text-blue-500 font-bold;
  }

  .dashboard-card {
    @apply bg-slate-900/50 border border-slate-800 p-6 rounded-2xl shadow-xl;
    @apply hover:border-blue-500/50 hover:bg-slate-800/50 transition-all cursor-pointer;
  }

  .glass-panel {
    @apply bg-slate-900/80 backdrop-blur-md border border-slate-800 rounded-3xl;
  }

  /* --- Scanner Elements --- */

  /* Ensure the camera preview is visible through the webview */
  .scanner-ui-active {
    background-color: transparent !important;
  }

  video, canvas {
    /* Set to 'auto' only if you are using an in-browser scanner. 
       For @capacitor-mlkit, the native layer is BELOW the webview. */
    pointer-events: none !important;
  }
}

/* Custom Scrollbars (Automotive/Dark Theme) */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { @apply bg-transparent; }
::-webkit-scrollbar-thumb { @apply bg-slate-700 rounded-full hover:bg-blue-500 transition-colors; }